--PARTE 1
CREATE TABLESPACE  QUIZ
DATAFILE 'DTFUNO' SIZE 15M ,'DTFDOS' SIZE 15M ,'DTFTRES' SIZE 15M;

CREATE PROFILE STUDENT LIMIT 
   IDLE_TIME 20; 
   
CREATE USER USUARIO_1
IDENTIFIED BY USUARIO_1 --CONTRASEÑA
DEFAULT TABLESPACE QUIZ;

ALTER USER USUARIO_1 QUOTA 10M ON QUIZ;


GRANT CONNECT TO USUARIO_1;
GRANT STUDENT TO USUARIO_1;
GRANT CREATE TABLE TO USUARIO_1;

--PARTE 1.2
CREATE USER USUARIO_2
IDENTIFIED BY USUARIO_2 --CONTRASEÑA
DEFAULT TABLESPACE QUIZ;


GRANT CONNECT TO USUARIO_2;
GRANT STUDENT TO USUARIO_1


--PARTE 2
CREATE TABLE ATTACKS (
ID INTEGER,
URL VARCHAR2(2048),
IP_ADDRESS VARCHAR2(255),
NUMBER_OF_ATTACKS INTEGER,
TIME_OF_LAST_ATTACK TIMESTAMP
);

--desde usuario system 
GRANT SELECT ON ATTACKS TO USUARIO_2;
--

SELECT COUNT(URL) FROM ATTACKS WHERE URL LIKE 'https%';
SELECT * FROM ATTACKS WHERE URL LIKE '%google%';